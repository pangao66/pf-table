(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{374:function(e,t,r){"use strict";r.r(t);r(36),r(37),r(38),r(39),r(19),r(34),r(35),r(113);var a=r(10),n=r(158),o=(r(109),r(40)),s=r(279),l=r.n(s);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var i,p,b={name:"",data:function(){return{tableData:[],total:0}},created:function(){},methods:{getTableData:(p=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.tabName,o=Object(n.a)(t,["tabName"]),e.next=3,l.a.post("/search-table",u({job:a},o));case 3:200===(s=e.sent).status?(s=s.data,this.tableData=s.list,this.total=s.total,r({tableData:s.list,total:s.total})):r();case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)}),deleteUser:(i=Object(o.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/delete-user",{id:t.id});case 2:200===(r=e.sent).status&&1===(r=r.data).code&&(this.$message.success("删除用户成功"),this.refreshTable());case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)}),refreshTable:function(){this.$refs["pf-tab-table"].search()},getSex:function(e){return{1:"男",0:"女"}[e]},getJob:function(e){return{designer:"设计",programmer:"程序员",testers:"测试",product:"产品"}[e.cellValue]}},computed:{tabs:function(){return[{label:"设计",name:"designer"},{label:"程序员",name:"programmer"},{label:"测试",name:"testers"},{label:"产品",name:"product"}]},columns:function(){return[{prop:"id",label:"id"},{prop:"name",label:"姓名",attrs:{width:60}},{prop:"address",label:"地址",attrs:{minWidth:140}},{prop:"birth",label:"生日",formatter:"date"},{prop:"job",label:"职位",formatter:this.getJob},{slot:"sex",label:"性别"},{slot:"handle",label:"操作",attrs:{width:170}}]},formItems:function(){return[{type:"input",prop:"name",label:"姓名"},{type:"select",prop:"sex",label:"性别",options:[{label:"男",value:1},{label:"女",value:0}]}]}}},f=r(1),m=Object(f.a)(b,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("pf-tab-table",{ref:"pf-tab-table",attrs:{tabs:e.tabs,columns:e.columns,"form-items":e.formItems},on:{"get-table-data":e.getTableData},scopedSlots:e._u([{key:"sex",fn:function(t){var a=t.row;return[r("el-tag",{attrs:{type:a.sex?"success":"danger"}},[e._v(e._s(e.getSex(a.sex)))])]}},{key:"handle",fn:function(t){var a=t.row;return[r("el-popconfirm",{attrs:{title:"请确认是否删除",width:"200",placement:"top-end"},on:{onConfirm:function(t){return e.deleteUser(a)}},scopedSlots:e._u([{key:"reference",fn:function(){return[r("el-button",{attrs:{size:"mini",type:"danger"}},[e._v("删除")])]},proxy:!0}],null,!0)})]}}])})}),[],!1,null,"43a9cf16",null);t.default=m.exports}}]);